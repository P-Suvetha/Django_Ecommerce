{% extends 'base.html' %}
{% load static %}
{% load bootstrap5 %}

{% block title %}Customers View{% endblock %}
{% block content %}

    <h1>All Customers</h1>
    <img class="full-width-image" src="{% static 'assets/images/customer.jpg' %}" alt="Customer Image">  
    <br><br><br>

    {% if request.user.role in [0, 1] %}
    <a href="/orders/customers/add">
        <button>Add Customer</button>
    </a>
    {% endif %}

    <table>
        <thead>
            <tr>
                <th>Customer Name</th>
                <th>Initial Date</th>
                {% if request.user.role in [0, 1] %}
                  <th>Update</th>
                  <th>Delete</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for customer in allcustomers %}
            <tr>
                <td>{{ customer.customer_name }}</td>
                <td>{{ customer.customer_since }}</td>

                {% if request.user.role in [0, 1] %}
                <td>
                    <a href="{% url 'customer_update' customer.id %}">
                        <button>Update</button>
                    </a>
                </td>
                <td>
                    <a href="{% url 'customer_delete' customer.id %}">
                        <button>Delete</button>
                    </a>
                </td>
                {% endif %}

            </tr>
            {% endfor %}
        </tbody>
    </table>

    <p class="yellow-text">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit odit eos aperiam delectus hic esse...
    </p>
{% endblock %}
